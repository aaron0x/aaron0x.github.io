<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>food-type</title>

</head>

<body>
    <input type="text" id="input" style="font-size:30px; width:276px;" oninput="lookUpFood()"><br>
    <textarea id="result" style="font-size:30px; width:276px; resize: none;" readonly></textarea>
</body>

<script>
    const food = {
        '溫熱性': [
            '龍眼', '荔枝', '芒果', '榴槤', '櫻桃', '柿餅', '金桔皮',
            '蔥', '韭菜', '大蒜', '紅鳳菜', '薑', '洋蔥', '紅薯', '榨菜',
            '辣椒', '醃破布子', '紅杏菜', '九層塔', '香菜',
            '炒芝麻', '花生',
            '羊肉', '鱔魚', '鯉魚', '鰻魚', '羊奶', '鵝肉', '河豚', '白帶魚', '鹹蛋', '雞肉', '草魚', '鰱魚', '土虱', '鯰魚',
            '麻油', '茴香', '乳酪', '沙茶醬', '肉桂', '咖哩', '芥末', '花生油',
            '花椒', '胡椒', '紅糖', '燒烤油炸',
            '咖啡', '白酒', '糯米', '高粱', '花生油',
            '羊肉', '蝦', '鱔魚',
            '生薑', '蒜', '蔥', '韭菜', '木瓜',
            '龍眼', '石榴', '山楂', '荔枝', '桃',
            '栗子', '櫻桃', '飴糖', '咖啡', '薄酒',
            '醋', '榴槤', '巧克力'
        ],

        '平性': [
            '芭樂', '蘋果', '釋迦', '葡萄', '柳橙', '枇杷', '甘蔗', '紅柿子',
            '橄欖', '梅子', '木瓜', '草莓', '檸檬', '棗子', '桃子', '香蕉', '桑椹',
            '菠菜', '豆芽', '茼蒿', '萵苣', '芋頭', '牛蒡', '蓮子', '馬鈴薯',
            '南瓜', '葫蘆', '香菇', '百合', '山藥', '枸杞', '青椒', '黑木耳',
            '四季豆', '結頭菜', '青江菜', '芥藍菜', '黃秋葵', '蕃薯',
            '高麗菜', '蕃薯葉', '紅蘿蔔', '狗尾草', '花椰菜',
            '玉米', '菱角', '黑豆', '生芝麻', '紅豆', '豌豆', '黃豆', '皇帝豆',
            '薏苡仁', '米飯類',
            '豬血', '烏賊', '牛奶', '鱉（甲魚）', '牛肉', '燕窩', '一般魚肉',
            '泥鰍', '牡蠣', '干貝', '鮑魚', '雞蛋', '海參', '豬肉',
            '茶油', '果糖', '蠔油', '橄欖油', '醋', '鹽', '蜜', '醬油', '葵花油',
            '楓糖', '沙拉油', '白砂糖',
            '熟茶', '擂茶', '粳米', '玉米', '大豆', '黑豆', '薏苡仁', '大豆油',
            '豬肉', '牛肉', '雞肉', '鵝肉', '鯉魚',
            '鰻魚', '鯽魚', '魚翅', '貝類', '烏賊',
            '海參',
            '芥菜', '空心菜', '甘藍菜', '甘薯', '馬鈴薯', '芋頭', '芝麻', '胡蘿蔔', '橄欖', ' 豌豆', '牛蒡', '牛奶', '甘蔗', '蘋果', '枇杷', '楊桃', '葡萄', '柳丁', '蓮子', '菱角', '芡實', '枸杞', '可可', '大棗', ' 李', '梅', '地瓜葉'
        ],

        '涼寒性': [
            '西瓜', '水梨', '李子', '柚子', '葡萄柚', '奇異果', '椰子', '橘子',
            '山竹', '硬柿子', '蕃茄', '蓮霧', '鳳梨', '香瓜',
            '五葉松', '大白菜', '小白菜', '石蓮花', '金針菇', '竹筍', '芥菜',
            '金線蓮', '明日葉', '白木耳', '空心菜', '白蘿蔔', '莧菜', '過貓',
            '苦瓜', '黃瓜', '蘆筍', '紫菜', '荸薺', '蓮藕', '龍鬚菜', '半天筍',
            '草菇', '絲瓜', '冬瓜', '海帶', '芹菜', '茄子', '茭白筍', '綠豆',
            '蝦', '田雞', '蛤蠣', '蟹', '鴨蛋', '鴨肉', '蜆', '皮蛋', '田螺',
            '味精',
            '啤酒', '綠茶',
            '生菜沙拉', '哈密瓜', '小米', '大麥',
            '油菜', '絲瓜', '萵苣', '菠菜', '苦瓜',
            '茄子', '綠豆', '芹菜', '香菇', '金針菇',
            '豆腐', '木耳', '蓮藕', '檸檬', '蕃茄', '梨',
            '小黃瓜', '香瓜', '蘆筍', '茶葉',
            '鴨', '蟹', '蛤蚌',
            '茭白筍', '竹筍', '海帶', '冬瓜', '洋菜',
            '豆鼓', '大白菜', '荸薺', '葡萄柚', '橘 子', '椰子', '西瓜', '白蘿蔔', '紅茶', '綠茶', '蓮藕'
        ]
    };

    function addToDict(dict, word, item) {
        let l = [];
        if (word in dict) {
            l = dict[word];
        }
        l.push(item);
        dict[word] = l;
    }

    const words2List = {};
    for (let [t, foodName] of Object.entries(food)) {
        for (var item of foodName) {
            const ft = { 'name': item, 'type': t };
            for (var i = 0; i < item.length; i++) {
                addToDict(words2List, item.substring(i, i + 1), ft);
                for (var j = i - 1; j >= 0; j--) {
                    addToDict(words2List, item.substring(j, i + 1), ft);
                }
            }
        }
    }

    function lookUpFood() {
        result.textContent = "";

        if (input.value in words2List) {
            const l = words2List[input.value];
            const existed = {}
            for (var v of l) {
                if ((v.name + v.type) in existed) {
                    continue
                }
                existed[v.name + v.type] = '';

                if (result.textContent != '') {
                    result.textContent += '\n';
                }
                result.textContent += v.name + " " + v.type;
            }
        }

        result.style.height = "5px"
        result.style.height = (result.scrollHeight) + "px";
    }

</script>


</html>